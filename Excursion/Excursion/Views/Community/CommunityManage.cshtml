@model IEnumerable<Excursion.Models.Note>

@{
    ViewBag.Title = "CommunityManage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>CommunityManage</h2>

@section Content
{
    <link href="~/CSS/table.css" rel="stylesheet"/>
    <div>
    <table>
        <tr>
            <th>
                帖子Id
            </th>
            <th>
                用户名称
            </th>
            <th>
                帖子内容
            </th>
            <th>
                帖子标题
            </th>
            <th>
                创建时间
            </th>
            <th>
                帖子图片
            </th>
            <th>
                点赞数目
            </th>
            <th>
                是否点赞
            </th>
            <th>
                是否交易
            </th>
            <th>
                交易金额
            </th>
            <th>
                操作
            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Username)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Content)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Title)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CreateTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ImageUrl)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PraiseNum)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IsPraise)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.IsDeal)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Money)
                </td>
                <td>
                    @Html.ActionLink("删除", "Delete", new { id = item.Id })
                </td>
            </tr>
        }

    </table>
    @{
        int page = 1;
        int.TryParse(Request.QueryString["page"], out page);
        if (page <= 0)
        {
            page = 1;
        }
    }
    <div>
        @(page == 1 ? Html.ActionLink("上一页", "CommunityManage", new { page }) : Html.ActionLink("上一页", "CommunityManage", new { page = page - 1 }))
        <strong> 当前页：@page </strong>
        @Html.ActionLink("下一页", "CommunityManage", new { page = page + 1 })
    </div>
</div>
}
